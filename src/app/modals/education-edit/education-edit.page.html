<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="closeModal()">
        Close
      </ion-button>
    </ion-buttons>
    <ion-title>Edit Education</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="update()" [disabled]="!educationForm.valid">
        Save
      </ion-button>
    </ion-buttons>
    <ion-progress-bar *ngIf="updatingUser" type="indeterminate"></ion-progress-bar>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="educationForm">
    <div class="education-cont">
      <ion-item class="extra-margin custom-input" (ionFocus)="onFocus($event)" (ionBlur)="onBlur($event)" id="university">
        <ion-label>University</ion-label>
        <ion-input formControlName="university"></ion-input>
      </ion-item>
      <ion-item class="extra-margin custom-input" (ionFocus)="onFocus($event)" (ionBlur)="onBlur($event)" id="degree">
        <ion-label>Degree</ion-label>
        <ion-input formControlName="degree"></ion-input>
      </ion-item>
      <ion-item class="extra-margin custom-input" (ionFocus)="onFocus($event)" (ionBlur)="onBlur($event)" id="qualification">
        <ion-label>Qualification</ion-label>
        <ion-input formControlName="qualification"></ion-input>
      </ion-item>
      <ion-item class="extra-margin custom-input" (ionFocus)="onFocus($event)" (ionBlur)="onBlur($event)" id="grade">
        <ion-label>Grade</ion-label>
        <ion-input formControlName="grade"></ion-input>
      </ion-item>
      <ion-row>


        <ion-col size="6" size-md="6" size-sm="12" size-xs="12">
          <ion-item class="custom-input margin-bottom">
            <ion-label>Start</ion-label>
            <!-- <ion-input formControlName="end_date"></ion-input> -->
            <ion-input readonly [liIonic4Datepicker]="datePickerObj" formControlName="start_date"></ion-input>
          </ion-item>
        </ion-col>

        <ion-col size="6" size-md="6" size-sm="12" size-xs="12">
          <ion-item class="custom-input margin-bottom">
            <ion-label>End</ion-label>
            <!-- <ion-input formControlName="end_date"></ion-input> -->
            <ion-input readonly [liIonic4Datepicker]="datePickerObj" formControlName="end_date"></ion-input>
          </ion-item>
          <ion-item lines="none" class="current-role-checkbox" (ionChange)="isCurrentStudy($event)">
            <ion-label>I am currently studying </ion-label>
            <ion-checkbox slot="end" [checked]="educationForm.get('end_date').value === 'Current'"></ion-checkbox>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-item class="extra-margin custom-input description align-left" id="description">
        <ion-label position="stacked">Description</ion-label>
        <ion-textarea formControlName="description" auto-grow="true"></ion-textarea>
      </ion-item>
      <div class="delete-cont">
        <ion-button expand="block" color="danger" fill="clear" (click)="delete()" *ngIf="dataIndex != null">Delete Education</ion-button>
      </div>
      <app-input-dropdown (itemSelected)="onDropdownItemSelected($event)" [dropdownWidth]="dropdownWidth"
          [dropdownTop]="dropdownTop" [dropdownLeft]="dropdownLeft" [dropdownHeight]="dropdownHeight"
          [items]="dropdownItems" *ngIf="!!focussedElement && dropdownItems.length > 0"></app-input-dropdown>
    </div>
  </form>
</ion-content>