<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="closeModal()">
        Close
      </ion-button>
    </ion-buttons>
    <ion-title>Edit Accreditation</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="update()" [disabled]="!accreditationForm.valid">
        <!-- <ion-icon name="checkmark-done-outline"></ion-icon> -->
        Save
      </ion-button>
    </ion-buttons>
    <ion-progress-bar *ngIf="updatingUser" type="indeterminate"></ion-progress-bar>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="accreditationForm">
    <div class="accreditation-cont">
      <ion-item class="extra-margin custom-input" id="name">
        <ion-label>Name</ion-label>
        <ion-input formControlName="name"></ion-input>
      </ion-item>
      <ion-item class="extra-margin custom-input" id="organisation">
        <ion-label>Organisation</ion-label>
        <ion-input formControlName="organisation"></ion-input>
      </ion-item>
      <ion-row>

        <ion-col size="6" size-md="6" size-sm="12" size-xs="12">
          <ion-item class="custom-input margin-bottom">
            <ion-label>Issue</ion-label>
            <!-- <ion-input formControlName="end_date"></ion-input> -->
            <ion-input readonly [liIonic4Datepicker]="datePickerObj" formControlName="issue"></ion-input>
          </ion-item>
        </ion-col>

        <ion-col size="6" size-md="6" size-sm="12" size-xs="12">
          <ion-item class="custom-input margin-bottom">
            <ion-label>Expiration</ion-label>
            <!-- <ion-input formControlName="end_date"></ion-input> -->
            <ion-input readonly [liIonic4Datepicker]="datePickerObj" formControlName="expiration"></ion-input>
          </ion-item>
          <ion-item lines="none" class="current-role-checkbox" (ionChange)="isNotExpire($event)">
            <ion-label>This accreditation does not expire</ion-label>
            <ion-checkbox slot="end" [checked]="accreditationForm.get('expiration').value === 'No Expiration'"></ion-checkbox>
          </ion-item>
        </ion-col>
      </ion-row>
      <div class="delete-cont">
        <ion-button expand="block" color="danger" fill="clear" (click)="delete()" *ngIf="dataIndex != null">Delete
          Accreditation</ion-button>
      </div>
    </div>
  </form>
</ion-content>